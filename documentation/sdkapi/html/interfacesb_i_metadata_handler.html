<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Songbird: File Index</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">

<style type="text/css" media="screen">
	#sb_header {
		font-size:11px;
		background-color:rgb(0,0,0);
		color:rgb(200,200,200);
		padding:6px 0px 7px 0px;
		line-height:16px;
		position:absolute;
		top:0;
		left:0;
		width:100%;
		font-family:georgia, serif;
		height:17px;
	}
	#sb_header a,
	#sb_header a:link {
	    text-decoration: underline;
		color:rgb(255,255,255);
	}
	#sb_header a:visited{
	}
	#sb_header a:hover{
		text-decoration: none;
		background-color:transparent ! important;
	}
	#sb_header img {
		border:none;
		vertical-align:middle;
		margin:0 10px 0 12px;
	}
	
	body {
		padding-top:32px;
	}
</style>
<!--[if IE]>

<style type="text/css">

#sb_header {
  width:expression(document.body.clientWidth);
  position:absolute;
}

</style>

<![endif]-->
</head>

<body>
<div id="sb_header"><a href="http://www.songbirdnest.com" class="sb_logo" target="_top"><img src="sb_logo_doc.gif" alt="Songbird logo" /></a><a href="http://www.songbirdnest.com" target="_top">Songbird</a> / <a href="http://developer.songbirdnest.com"  target="_top">Development</a> / Songbird Add-Ons <acronym title="Application Program Interface">API</acronym> Documentation</div>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>sbIMetadataHandler Interface Reference</h1><!-- doxytag: class="sbIMetadataHandler" -->An object capable of manipulating the metadata tags for a media file.  
<a href="#_details">More...</a>
<p>
<a href="interfacesb_i_metadata_handler-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">PRInt32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#e458a8ab0d74624ad43d7592c9fb548d">vote</a> (in AString aUrl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Vote to be the handler returned for the given url.  <a href="#e458a8ab0d74624ad43d7592c9fb548d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">PRInt32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#089f9e2ab8e3494dc72dae7e937b0a56">read</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the read operation.  <a href="#089f9e2ab8e3494dc72dae7e937b0a56"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">PRInt32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#5ebeaf138cfa866b44ad8aceccd4174c">write</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the write operation.  <a href="#5ebeaf138cfa866b44ad8aceccd4174c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#420316e8648548ba5172a4c4544d7333">onChannelData</a> (in nsISupports aChannel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Be thou informst that one's <a class="el" href="interfacesb_i_metadata_channel.html" title="A wrapper for an nsIChannel that buffers the incoming data.">sbIMetadataChannel</a> has just received data.  <a href="#420316e8648548ba5172a4c4544d7333"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="761c2ace034fbc0f6e4ace75968b224a"></a><!-- doxytag: member="sbIMetadataHandler::close" ref="761c2ace034fbc0f6e4ace75968b224a" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#761c2ace034fbc0f6e4ace75968b224a">close</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close down the internals of the handler, stop any asynchronous operations, free any allocations. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1a1be28d93bd9e9dcf125ea81f8d3b6e"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_OTHER" ref="1a1be28d93bd9e9dcf125ea81f8d3b6e" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#1a1be28d93bd9e9dcf125ea81f8d3b6e">METADATA_IMAGE_TYPE_OTHER</a> = 0x00</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constant for the type of image in the metadata, these are pulled from the taglib/attachedpictureframe.h. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7a2d93e3fb98131ac2d8878d96e8181e"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_FILEICON" ref="7a2d93e3fb98131ac2d8878d96e8181e" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#7a2d93e3fb98131ac2d8878d96e8181e">METADATA_IMAGE_TYPE_FILEICON</a> = 0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="48b796ba015a3bb74adcfe5b1568053e"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_OTHERFILEICON" ref="48b796ba015a3bb74adcfe5b1568053e" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#48b796ba015a3bb74adcfe5b1568053e">METADATA_IMAGE_TYPE_OTHERFILEICON</a> = 0x02</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f4d77f70862fddc330e042edfae42c56"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_FRONTCOVER" ref="f4d77f70862fddc330e042edfae42c56" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#f4d77f70862fddc330e042edfae42c56">METADATA_IMAGE_TYPE_FRONTCOVER</a> = 0x03</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="592d84353e0841ce48bef01c124fd95f"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_BACKCOVER" ref="592d84353e0841ce48bef01c124fd95f" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#592d84353e0841ce48bef01c124fd95f">METADATA_IMAGE_TYPE_BACKCOVER</a> = 0x04</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5b291b370eff73c92887422ea47931bb"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_LEAFLETPAGE" ref="5b291b370eff73c92887422ea47931bb" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#5b291b370eff73c92887422ea47931bb">METADATA_IMAGE_TYPE_LEAFLETPAGE</a> = 0x05</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="21d241da714d89238bd965110072c4d4"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_MEDIA" ref="21d241da714d89238bd965110072c4d4" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#21d241da714d89238bd965110072c4d4">METADATA_IMAGE_TYPE_MEDIA</a> = 0x06</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ea451378ef9cb8038fbbed44850ccac0"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_LEADARTIST" ref="ea451378ef9cb8038fbbed44850ccac0" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#ea451378ef9cb8038fbbed44850ccac0">METADATA_IMAGE_TYPE_LEADARTIST</a> = 0x07</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fdacca06272e8edb52235092c3a25173"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_ARTIST" ref="fdacca06272e8edb52235092c3a25173" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#fdacca06272e8edb52235092c3a25173">METADATA_IMAGE_TYPE_ARTIST</a> = 0x08</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="50556893bf5cfb2111cc27a5de51454b"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_CONDUCTOR" ref="50556893bf5cfb2111cc27a5de51454b" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#50556893bf5cfb2111cc27a5de51454b">METADATA_IMAGE_TYPE_CONDUCTOR</a> = 0x09</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5c50f5d65ae546332f6f3ddf5f12fbac"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_BAND" ref="5c50f5d65ae546332f6f3ddf5f12fbac" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#5c50f5d65ae546332f6f3ddf5f12fbac">METADATA_IMAGE_TYPE_BAND</a> = 0x0A</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4c027277bebd2a3c4249da5e3c512a8"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_COMPOSER" ref="a4c027277bebd2a3c4249da5e3c512a8" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#a4c027277bebd2a3c4249da5e3c512a8">METADATA_IMAGE_TYPE_COMPOSER</a> = 0x0B</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="71868d2453b44473ced5a376f109023a"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_LYRICIST" ref="71868d2453b44473ced5a376f109023a" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#71868d2453b44473ced5a376f109023a">METADATA_IMAGE_TYPE_LYRICIST</a> = 0x0C</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2399ea2a20923f147368baadd9ca4f18"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_RECORDINGLOCATION" ref="2399ea2a20923f147368baadd9ca4f18" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#2399ea2a20923f147368baadd9ca4f18">METADATA_IMAGE_TYPE_RECORDINGLOCATION</a> = 0x0D</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="49ef76a9da92240ab93e98a69734b521"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_DURINGRECORDING" ref="49ef76a9da92240ab93e98a69734b521" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#49ef76a9da92240ab93e98a69734b521">METADATA_IMAGE_TYPE_DURINGRECORDING</a> = 0x0E</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2eddcf2646f5970935413176fdfefa26"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_DURINGPERFORMANCE" ref="2eddcf2646f5970935413176fdfefa26" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#2eddcf2646f5970935413176fdfefa26">METADATA_IMAGE_TYPE_DURINGPERFORMANCE</a> = 0x0F</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a789760683447fe8fa1d6ffa77e7e756"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_MOVIESCREENCAPTURE" ref="a789760683447fe8fa1d6ffa77e7e756" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#a789760683447fe8fa1d6ffa77e7e756">METADATA_IMAGE_TYPE_MOVIESCREENCAPTURE</a> = 0x10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="554e236ad0c8f9a32d5c15de68d53b16"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_COLOUREDFISH" ref="554e236ad0c8f9a32d5c15de68d53b16" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#554e236ad0c8f9a32d5c15de68d53b16">METADATA_IMAGE_TYPE_COLOUREDFISH</a> = 0x11</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3e69dffc454a4ecee294c9149138b5ae"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_ILLUSTRATION" ref="3e69dffc454a4ecee294c9149138b5ae" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#3e69dffc454a4ecee294c9149138b5ae">METADATA_IMAGE_TYPE_ILLUSTRATION</a> = 0x12</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1b991ff21b1799d146f60ae6aa3b56ad"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_BANDLOGO" ref="1b991ff21b1799d146f60ae6aa3b56ad" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#1b991ff21b1799d146f60ae6aa3b56ad">METADATA_IMAGE_TYPE_BANDLOGO</a> = 0x13</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e8c41bfa0d481d8defed080250275c7c"></a><!-- doxytag: member="sbIMetadataHandler::METADATA_IMAGE_TYPE_PUBLISHERLOGO" ref="e8c41bfa0d481d8defed080250275c7c" args="" -->
const PRUint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#e8c41bfa0d481d8defed080250275c7c">METADATA_IMAGE_TYPE_PUBLISHERLOGO</a> = 0x14</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">attribute <a class="el" href="interfacesb_i_mutable_property_array.html">sbIMutablePropertyArray</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#a2a140a5970440aac460137619d1c673">props</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An array of metadata properties.  <a href="#a2a140a5970440aac460137619d1c673"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">readonly attribute PRBool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#978827eef884f62ce9da10d1344632a1">completed</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether or not the object has completed its read/write operation.  <a href="#978827eef884f62ce9da10d1344632a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">readonly attribute PRBool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#f5d32370ea0ee06b351d1d8db98939e4">requiresMainThread</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether or not this handler MUST be run on the main thread.  <a href="#f5d32370ea0ee06b351d1d8db98939e4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">attribute nsIChannel&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_metadata_handler.html#8311aa7b7bc4102d02465b47ded3e7f3">channel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The object's nsIChannel.  <a href="#8311aa7b7bc4102d02465b47ded3e7f3"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
An object capable of manipulating the metadata tags for a media file. 
<p>
User code requests a handler by calling <a class="el" href="interfacesb_i_metadata_manager.html#ae19d169e02736347d183bf89ae8ffa6" title="Request a metadata handler.">sbIMetadataManager::getHandlerForMediaURL</a> that then returns one of these.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfacesb_i_metadata_manager.html" title="The manager from which to request a metadata handler.">sbIMetadataManager</a> </dd></dl>

<p>

<p>
Definition at line <a class="el" href="sb_i_metadata_handler_8idl-source.html#l00045">45</a> of file <a class="el" href="sb_i_metadata_handler_8idl-source.html">sbIMetadataHandler.idl</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e458a8ab0d74624ad43d7592c9fb548d"></a><!-- doxytag: member="sbIMetadataHandler::vote" ref="e458a8ab0d74624ad43d7592c9fb548d" args="(in AString aUrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PRInt32 sbIMetadataHandler::vote           </td>
          <td>(</td>
          <td class="paramtype">in AString&nbsp;</td>
          <td class="paramname"> <em>aUrl</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Vote to be the handler returned for the given url. 
<p>
The <a class="el" href="interfacesb_i_metadata_manager.html" title="The manager from which to request a metadata handler.">sbIMetadataManager</a> will instantiate one of every <a class="el" href="interfacesb_i_metadata_handler.html" title="An object capable of manipulating the metadata tags for a media file.">sbIMetadataHandler</a> subclass and ask it to vote on the given url. Whichever handler returns the highest vote will be used as the handler for the url.<p>
Values less than zero cause that handler to be ignored.<p>
At the moment, our handlers return -1, 0, or 1 (for "no," "maybe," and "yes").<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aUrl</em>&nbsp;</td><td>The url upon which one should vote </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The vote </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfacesb_i_metadata_manager.html" title="The manager from which to request a metadata handler.">sbIMetadataManager</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="089f9e2ab8e3494dc72dae7e937b0a56"></a><!-- doxytag: member="sbIMetadataHandler::read" ref="089f9e2ab8e3494dc72dae7e937b0a56" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PRInt32 sbIMetadataHandler::read           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start the read operation. 
<p>
After getting a handler from the <a class="el" href="interfacesb_i_metadata_manager.html" title="The manager from which to request a metadata handler.">sbIMetadataManager</a>, the user code usually calls read upon it, immediately. The implementor may choose to handle the request immediately or asynchronously.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if operating asynchronously, otherwise the number of metadata values read (0 on failure) </dd></dl>

</div>
</div><p>
<a class="anchor" name="5ebeaf138cfa866b44ad8aceccd4174c"></a><!-- doxytag: member="sbIMetadataHandler::write" ref="5ebeaf138cfa866b44ad8aceccd4174c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PRInt32 sbIMetadataHandler::write           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start the write operation. 
<p>
After getting a handler from the <a class="el" href="interfacesb_i_metadata_manager.html" title="The manager from which to request a metadata handler.">sbIMetadataManager</a>, the user code may set an <a class="el" href="interfacesb_i_property_array.html" title="An interface to carry around arrays of nsIProperty instances. Users of this interface...">sbIPropertyArray</a> object into the handler and then call write to write the abstract metadata map into the specific metadata requirements of the file format supported by the handler.<p>
Note that the number of items written may not always equal the number of items in the <a class="el" href="interfacesb_i_property_array.html" title="An interface to carry around arrays of nsIProperty instances. Users of this interface...">sbIPropertyArray</a> object if the underlying file format does not support the given keys.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if operating asynchronously, otherwise the number of metadata values written (0 on failure) </dd></dl>

</div>
</div><p>
<a class="anchor" name="420316e8648548ba5172a4c4544d7333"></a><!-- doxytag: member="sbIMetadataHandler::onChannelData" ref="420316e8648548ba5172a4c4544d7333" args="(in nsISupports aChannel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbIMetadataHandler::onChannelData           </td>
          <td>(</td>
          <td class="paramtype">in nsISupports&nbsp;</td>
          <td class="paramname"> <em>aChannel</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Be thou informst that one's <a class="el" href="interfacesb_i_metadata_channel.html" title="A wrapper for an nsIChannel that buffers the incoming data.">sbIMetadataChannel</a> has just received data. 
<p>
Every time the underlying nsIChannel dumps data on the <a class="el" href="interfacesb_i_metadata_channel.html" title="A wrapper for an nsIChannel that buffers the incoming data.">sbIMetadataChannel</a>, plus once more for when the nsIChannel reports a stop condition.<p>
This is a chance for the handler code to attempt to parse the datastream.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aChannel</em>&nbsp;</td><td>The <a class="el" href="interfacesb_i_metadata_channel.html" title="A wrapper for an nsIChannel that buffers the incoming data.">sbIMetadataChannel</a> delivering data. You'll have to QI for it.  consider removing. <a class="el" href="interfacesb_i_metadata_channel.html" title="A wrapper for an nsIChannel that buffers the incoming data.">sbIMetadataChannel</a> appears to be unused. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="a2a140a5970440aac460137619d1c673"></a><!-- doxytag: member="sbIMetadataHandler::props" ref="a2a140a5970440aac460137619d1c673" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">attribute <a class="el" href="interfacesb_i_mutable_property_array.html">sbIMutablePropertyArray</a> <a class="el" href="interfacesb_i_metadata_handler.html#a2a140a5970440aac460137619d1c673">sbIMetadataHandler::props</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
An array of metadata properties. 
<p>
Metadata properties read from or to be written to the file.<p>
When the handler has successfully completed its <a class="el" href="interfacesb_i_metadata_handler.html#089f9e2ab8e3494dc72dae7e937b0a56" title="Start the read operation.">read()</a> operation, the values attribute will be filled with the metadata from the url. 
<p>
Definition at line <a class="el" href="sb_i_metadata_handler_8idl-source.html#l00081">81</a> of file <a class="el" href="sb_i_metadata_handler_8idl-source.html">sbIMetadataHandler.idl</a>.
</div>
</div><p>
<a class="anchor" name="978827eef884f62ce9da10d1344632a1"></a><!-- doxytag: member="sbIMetadataHandler::completed" ref="978827eef884f62ce9da10d1344632a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute PRBool <a class="el" href="interfacesb_i_metadata_handler.html#978827eef884f62ce9da10d1344632a1">sbIMetadataHandler::completed</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Whether or not the object has completed its read/write operation. 
<p>
This value is false until the handler completes its read/write operation.<p>
It is up to the implementor to determine if read/write calls should operate asynchronously or by blocking. The user of the handler should not attempt to get the <a class="el" href="interfacesb_i_property_array.html" title="An interface to carry around arrays of nsIProperty instances. Users of this interface...">sbIPropertyArray</a> object before the operation is completed. 
<p>
Definition at line <a class="el" href="sb_i_metadata_handler_8idl-source.html#l00092">92</a> of file <a class="el" href="sb_i_metadata_handler_8idl-source.html">sbIMetadataHandler.idl</a>.
</div>
</div><p>
<a class="anchor" name="f5d32370ea0ee06b351d1d8db98939e4"></a><!-- doxytag: member="sbIMetadataHandler::requiresMainThread" ref="f5d32370ea0ee06b351d1d8db98939e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute PRBool <a class="el" href="interfacesb_i_metadata_handler.html#f5d32370ea0ee06b351d1d8db98939e4">sbIMetadataHandler::requiresMainThread</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Whether or not this handler MUST be run on the main thread. 
<p>
Since nsIChannel and other dependencies are not thread safe, some <a class="el" href="interfacesb_i_metadata_handler.html" title="An object capable of manipulating the metadata tags for a media file.">sbIMetadataHandler</a> implementations can not be run on background threads. 
<p>
Definition at line <a class="el" href="sb_i_metadata_handler_8idl-source.html#l00100">100</a> of file <a class="el" href="sb_i_metadata_handler_8idl-source.html">sbIMetadataHandler.idl</a>.
</div>
</div><p>
<a class="anchor" name="8311aa7b7bc4102d02465b47ded3e7f3"></a><!-- doxytag: member="sbIMetadataHandler::channel" ref="8311aa7b7bc4102d02465b47ded3e7f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">attribute nsIChannel <a class="el" href="interfacesb_i_metadata_handler.html#8311aa7b7bc4102d02465b47ded3e7f3">sbIMetadataHandler::channel</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The object's nsIChannel. 
<p>
The object is assigned an nsIChannel from the <a class="el" href="interfacesb_i_metadata_manager.html" title="The manager from which to request a metadata handler.">sbIMetadataManager</a> after it has successfully voted for an url. In the Read call, the implementor may choose to pull the url from the channel and use that directly, or open the channel (either itself or using an <a class="el" href="interfacesb_i_metadata_channel.html" title="A wrapper for an nsIChannel that buffers the incoming data.">sbIMetadataChannel</a> as a helper) and stream the data to be parsed.<p>
In general, for local files, it is faster to pull the url and handle the metadata read immediately rather than open the channel. For remote files, it's far easier to just use the channel infrastructure already setup. 
<p>
Definition at line <a class="el" href="sb_i_metadata_handler_8idl-source.html#l00115">115</a> of file <a class="el" href="sb_i_metadata_handler_8idl-source.html">sbIMetadataHandler.idl</a>.
</div>
</div><p>
<hr>The documentation for this interface was generated from the following file:<ul>
<li>components/mediacore/metadata/manager/public/<a class="el" href="sb_i_metadata_handler_8idl-source.html">sbIMetadataHandler.idl</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 11 14:05:49 2009 for Songbird by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
